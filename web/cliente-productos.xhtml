<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:of="http://omnifaces.org/functions">

    <h:head>
        <title>SACP - Productos</title>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
        <link rel="stylesheet"  href="CSS/barraMenu.css"/>
        <link rel="stylesheet"  href="CSS/cliente-productos.css"/>


    </h:head>
    <h:body id="body"> 

        <div class="container-menu">
            <h:form>
                <p:menubar class="container-menu-bar">
                    <p:menuitem class="container-menu-bar-item ui-g-12"  value="Inicio" url="index.xhtml" />
                    <p:menuitem action="submit()" actionListener="#{bean_Cliente_Productos.actualizarCatalogo()}"  class="container-menu-bar-item ui-g-12"    value="Productos" url="cliente-productos.xhtml"/>
                 
                    <f:facet name="options">

                        <!--<p:commandButton class="container-menu-button " value="Carrito" type="button"  onclick="PF('dlg2').show()"/>-->
                        <h:commandButton  class="container-menu-button" action="cliente-productos-carrito.xhtml" value="Carrito"  />
                    </f:facet>
                </p:menubar>
            </h:form>
        </div>


        <div class="container">
            <div class="container-alert-table">
                <h:outputLabel id="alert-table" value="#{bean_Cliente_Productos.alertTabla}"/>
            </div>

            <div class="container-table">
                <div class="table">
                    <h:form>
                        <div class="table-main-container">
                            <p:dataTable  rowSelectMode="single" rowKey="#{producto.idProducto}" id="singleDT" var="producto" value="#{bean_Cliente_Productos.listaProductosCatalogo}" 
                                          selectionMode="single" selection="#{bean_Cliente_Productos.productoSeleccionado}" 
                                          scrollable="true" scrollHeight="500" class="product-table">

                                <p:column headerText="Nombre" class="table-name">
                                    <h:outputText value="#{producto.nombre}" />
                                </p:column>

                                <p:column headerText="Categoría" class="table-category">
                                    <h:outputText value="#{producto.categoria}" />
                                </p:column>

                                <p:column headerText="Stock" class="table-amount">
                                    <h:outputText value="#{producto.stock}" />
                                </p:column>
                                
                                <p:column headerText="Precio" class="table-category">
                                    <h:outputText value="#{producto.precio_Mascara}" />
                                </p:column>
                                
                                <p:column  class="table-image" headerText="Imagen" >
                                    <o:graphicImage value="#{producto.foto}" dataURI="true" style="display: block; margin-left: 30%" width="100px"  height="100px" class="table-Imagen"/> <!-- byte[]/InputStream property as data URI -->
                                </p:column>

                                <f:facet name="footer">
                                    <h:commandButton onclick="submit()"  actionListener="#{bean_Cliente_Productos.limpiarSeleccion()}" value="Limpiar" class=" container-table-button-clean"/>
                                    <h:commandButton onclick="submit()"  actionListener="#{bean_Cliente_Productos.agregarCarrito()}" value="Agregar" class=" container-table-button-add"/>

                                </f:facet>

                            </p:dataTable>
                        </div>
                    </h:form>
                </div>
            </div>
        </div>

        <div class="main-footer">
            <p>
                <ul>
                    Desarrolladores, diseñadores, autores, creadores 
                    <li>John P. Alfaro C.</li>
                    <li>Juan D. Araya C.</li>
                </ul>
            </p>
            <P>
                Proyecto final programado para la carrera de Ingeniería del Software de la Universidad Técnica Nacional
            </P>
            <p>
                © 2021 CodIn Solutions, Inc
            </p>
        </div>

    </h:body>
</html>

