<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces" />
        <link rel="stylesheet"  href="CSS/barraMenu.css"/>
        <link rel="stylesheet"  href="CSS/cliente-productos.css"/>
        <link rel="stylesheet"  href="CSS/cliente-productos-carrito.css"/>
        <title>SACP-Carrito</title>
    </h:head>
    <h:body>
        <div class="container-menu">
            <h:form>
                <h1></h1>
                <p:menubar class="container-menu-bar">
                    <p:menuitem class="container-menu-bar-item ui-g-12"  value="Inicio" url="index.xhtml" />
                    <p:menuitem class="container-menu-bar-item ui-g-12 "  value="Productos" url="cliente-productos.xhtml"  />
                 
                    <f:facet name="options">
                        <h:commandButton value="Regresar" class="container-menu-button-cart" action="cliente-productos.xhtml"/>
                    </f:facet>
                </p:menubar>
            </h:form>
        </div>
        <h:form>
            <div class="main-container">

                <h5 class="p-mt-0 list-title">Productos en el Carrito</h5>
  <div class="container-alert-table">
                <h:outputLabel id="alert-table" value="#{bean_Cliente_Productos.alertCarrito}"/>
            </div>
                <p:dataTable id="table-cart" rowKey="#{productoCart.idProducto}" var="productoCart" value="#{bean_Cliente_Productos.carrito}" 
                             selectionMode="single" selection="#{bean_Cliente_Productos.productoSeleccionadoCarrito}" 
                             scrollable="true" scrollHeight="300" class="table-detail">

                    <p:column headerText="Nombre" class="table-Fecha">
                        <h:outputText value="#{productoCart.nombre}" />
                    </p:column>

                    <p:column headerText="Cantidad" class="table-Fecha">
                        <h:outputText value="#{productoCart.cantComprada}" />
                    </p:column>

                    <p:column headerText="Precio Unidad" class="table-Fecha">
                        <h:outputText value="#{productoCart.precio_Mascara}" />
                    </p:column>

                    <p:column headerText="Total" class="table-Estado">
                        <h:outputText value="#{productoCart.totalCantComprada_Mascara}" />
                    </p:column>

                </p:dataTable>
                <p style="color: #fff">Por la compra de más de 5 productos recibe un descuento del 25%</p>
                <div class="container-info-pay">
                    <div class="info-message"> 
                        <table class="table-content">
                            <tr>
                                <td class="item-desc">
                                    <h3  class="message-2">Subtotal:</h3>
                                </td>
                                <td class="item-res">
                                    <h3  class="message-2">#{bean_Cliente_Productos.subtotal}</h3>
                                </td>
                            </tr>
                            <tr>
                                <td class="item-desc">
                                    <h3  class="message-2">Descuento:</h3>
                                </td>
                                <td class="item-res">
                                    <h3  class="message-2">#{bean_Cliente_Productos.descuento}</h3>
                                </td>
                            </tr>
                            <tr>
                                <td class="item-desc">
                                    <h3  class="message-2">Impuesto:</h3>
                                </td>
                                <td class="item-res">
                                    <h3  class="message-2">#{bean_Cliente_Productos.impuestos}</h3>
                                </td>
                            </tr>
                            <tr>
                                <td class="item-desc">
                                    <h3  class="message-2">Total:</h3>
                                </td>
                                <td class="item-res">
                                    <h3  class="message-2">#{bean_Cliente_Productos.total}</h3>
                                </td>
                            </tr>
                        </table>
                        <div class="dialog-buttons">
                            <ul style="list-style: none" >
                                <li><h:commandButton class="dialog-buttons-delete" onclick="submit()" style="background-color: #a12312; text-align: center " action="#{bean_Cliente_Productos.eliminarProductoCarrito()}"  value="Eliminar"/></li>
                                <li><h:commandButton class="dialog-buttons-pay"   action="#{bean_Cliente_Productos.detalleCompra()}"   value="Pagar"/></li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>   


        </h:form>
        <div class="main-footer">
            <p>
                <ul>
                    Desarrolladores, diseñadores, autores, creadores 
                    <li>John P. Alfaro C.</li>
                    <li>Juan D. Araya C.</li>
                </ul>
            </p>
            <P>
                Proyecto final programado para la carrera de Ingeniería del Software de la Universidad Técnica Nacional
            </P>
            <p>
                © 2021 CodIn Solutions, Inc
            </p>
        </div>
    </h:body>
</html>

